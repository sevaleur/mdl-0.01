extends ../base.pug

block variables
    - var template = 'advert'

block content
  .video
    if device === 'desktop'
      .video__controls 
        .video__controls__mute 
          span.video__controls__mute__column
          span.video__controls__mute__column
          span.video__controls__mute__column
          span.video__controls__mute__column
    else 
      .video__title
        .video__title__wrapper
          h1.video__title__text=advert.title
          span.video__title__text=advert.title 
          span.video__title__text=advert.title 
          span.video__title__text=advert.title 
          span.video__title__text=advert.title 
          span.video__title__text=advert.title 
    .video__wrap
      if device === 'desktop'
        .video__btn
          .video__btn__icon
            .part.part__left
            .part.part__right
      .video__media
        .video__media__cover
        .video__selected#plyr
          iframe.video__selected__video.plyr__video-embed(src=advert.selected_video)
    .video__wrapper
      .video__ghost 
        if device !== 'desktop'
          .video__controls 
            .video__controls__mute 
              span.video__controls__mute__column
              span.video__controls__mute__column
              span.video__controls__mute__column
              span.video__controls__mute__column
            .video__controls__play
              .video__btn
                .video__btn__icon
                  .part.part__left
                  .part.part__right
        .video__ghost__div
        if device === 'desktop'
          .video__title
            .video__title__wrapper
              h1.video__title__text=advert.title
              span.video__title__text=advert.title 
              span.video__title__text=advert.title 
              span.video__title__text=advert.title 
              span.video__title__text=advert.title 
              span.video__title__text=advert.title 

      section.video__grid
        .video__info
          .video__info__client.video__info__div
            p.video__info__client__title.video__info__title=advert.project.client_title
            h2.video__info__client__text.video__info__text=advert.project.client

          .video__info__name.video__info__div
            p.video__info__name__title.video__info__title Title
            p.video__info__name__text.video__info__text=advert.title

          .video__info__role.video__info__div
            p.video__info__role__title.video__info__title Role
            p.video__info__role__text.video__info__text!=advert.project.role.replace(/\n/g, '<br>')
        
        .video__year 
          p.video__year__text=`( ${advert.project.year} )`

        .video__desc
          p.video__desc__text!=advert.project.description.replace(/\n/g, '<br>')

      if advert.inDepth
        section.video__depth( data-grid=advert.inDepth.description && advert.inDepth.descriptionTwo || advert.inDepth.photo && advert.inDepth.photoTwo || advert.inDepth.description && advert.inDepth.photoTwo || advert.inDepth.photo && advert.inDepth.descriptionTwo ? 'full' : 'half' )
          if advert.inDepth.photo || advert.inDepth.description 
            .video__depth__one
              if advert.inDepth.photo
                .video__depth__one__bts 
                  figure.video__depth__one__bts__media 
                    img.video__depth__one__bts__media__image(data-src=Build.image(advert.inDepth.photo.asset._ref).url() alt=advert.inDepth.photo.alt)
                  p.video__depth__one__bts__text=advert.inDepth.photo.alt
              if advert.inDepth.description
                .video__depth__one__desc 
                  p.video__depth__one__desc__text!=advert.inDepth.description.replace(/\n/g, '<br>')
          if advert.inDepth.photoTwo || advert.inDepth.descriptionTwo
            .video__depth__two( data-grid=advert.inDepth.photo || advert.inDepth.description ? 'full' : 'half' )
              if advert.inDepth.photoTwo
                .video__depth__two__bts 
                  figure.video__depth__two__bts__media 
                    img.video__depth__two__bts__media__image(data-src=Build.image(advert.inDepth.photoTwo.asset._ref).url() alt=advert.inDepth.photoTwo.alt)
                  p.video__depth__two__bts__text=advert.inDepth.photoTwo.alt
              if advert.inDepth.descriptionTwo
                .video__depth__two__desc 
                  p.video__depth__two__desc__text!=advert.inDepth.descriptionTwo.replace(/\n/g, '<br>')

      if advert.footer
        section.video__footer 
          .video__footer__grid
            .video__footer__credits
              .video__footer__credits__title
                h3.video__footer__credits__title__text=advert.footer.credits_title 
                h3.video__footer__credits__title__text=advert.footer.credits_title 
                h3.video__footer__credits__title__text=advert.footer.credits_title 
              .video__footer__credits__desc
                p.video__footer__credits__desc__text!=advert.footer.credits.replace(/\n/g, '<br>')
            .video__footer__thanks
              .video__footer__thanks__title 
                h3.video__footer__thanks__title__text=advert.footer.thanks_title
                h3.video__footer__thanks__title__text=advert.footer.thanks_title
                h3.video__footer__thanks__title__text=advert.footer.thanks_title
              .video__footer__thanks__desc 
                p.video__footer__thanks__desc__text!=advert.footer.thanks.replace(/\n/g, '<br>')
      
    .video__back
      .video__back__button
