extends ../base.pug

block variables
    - var template = 'portraits'

block content
  .portraits

  .gallery

    .gallery__media
      .gallery__wrapper
        each img in portraits.images
          .gallery__media__div
            figure.gallery__media__div__figure
              img.gallery__media__div__figure__image(data-src=Build.image(img.asset._ref).url() alt=img.alt)

    .gallery__info
      if device === 'desktop'
        h1.gallery__info__title!=portraits.title.replace(/\s/, '<br>')
      else if device === 'tablet' || device === 'phone'
        h1.gallery__info__title=portraits.title

      if(portraits.project_description.length > 0)
        p.gallery__info__desc!=portraits.project_description.replace(/\n/g, '<br>')

    .gallery__back
      a.gallery__back__button(href=Link=('/'))=portraits.back

    .gallery__modal
      .gallery__modal__selected
        figure.gallery__modal__selected__figure
          img.gallery__modal__selected__figure__image(src='' alt='')
        .gallery__modal__selected__text
          p.gallery__modal__selected__text__close.modal__text=portraits.close
      .gallery__modal__text
        p.gallery__modal__text__close=portraits.close
      .gallery__modal__images
        .gallery__modal__images__wrapper
          each img in portraits.images
            .gallery__modal__images__div
              span.gallery__modal__images__div__top 
              span.gallery__modal__images__div__bottom 
              .gallery__modal__images__div__media
                figure.gallery__modal__images__div__media__figure 
                  img.gallery__modal__images__div__media__figure__image(data-src=Build.image(img.asset._ref).url() alt=img.alt)
